

<style>
  .image-container {
    position: relative;
    width: 100%;
  }
  .image {
    opacity: 1;
    display: block;
    width: 100%;
    height: auto;
    transition: .5s ease;
    backface-visibility: hidden;
    border-radius: 10px;
  }

  .middle {
    transition: .5s ease;
    opacity: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    -ms-transform: translate(-50%, -50%)
  }

  .image-container:hover .image {
    opacity: 0.3;
  }

  .image-container:hover .middle {
    opacity: 1;
  }

  input[type="file"] {
    width: 0.1px;
    height: 0.1px;
    opacity: 0;
    overflow: hidden;
    position: absolute;
    z-index: -1;
  }
.custom-file-upload {
    display: inline-block;
    cursor: pointer;
    font-size: 12px;
    padding: 5px;
  }

</style>

<div class="container">
  <form class="login_form" action="/user/update" method="POST" enctype="multipart/form-data" onkeydown="return event.key != 'Enter';">
    <div class="row">
      <div class="col-4 mr-5">
        <label class="upload-label">Profile picture</label>
        <div class="image-container" data-toggle="tooltip" data-placement="top" title="Profile picture">
            <img id="avatar" class="image" src="
              {{#if account.avatar}}
                {{account.avatar}}
              {{else}}
                /img/image-not-available.jpg
              {{/if}}
            "/>
          <div id="fakeDiv" class="middle">
            <label for="selectedFile" class="custom-file-upload btn subs_btn">
              Upload profile picture
            </label>
            <input type="file" id="selectedFile" name="cover" onchange="readURL(this);"/>
          </div>
        </div>
      </div>
        
      <div class="col">
          <div class="row form-group">
              <input class="form-control" type="text" name="name" value="{{account.name}}" placeholder="Name" data-toggle="tooltip" data-placement="top" title="Name">
          </div>
          <div class="row form-group">
              <input class="form-control" type="email" name="email" value="{{account.email}}" placeholder="Email" data-toggle="tooltip" data-placement="top" title="Email">
          </div>
          <div class="row form-group">
              <input class="form-control" type="text" name="username" value="{{account.username}}" placeholder="User Name" data-toggle="tooltip" data-placement="top" title="Username">
          </div>
          <div class="row form-group">
              <input class="form-control" type="text" name="phone" value="{{account.phone}}" placeholder="Phone number" data-toggle="tooltip" data-placement="top" title="Phone number">
          </div>
          <div class="row form-group">
              <button type="submit" value="submit" class="btn subs_btn form-control">Save profile</button>
          </div>
      </div>
    
    </div>
  </form>

  <div class="row mt-6" style="margin-top: 30px;">
    <div class="col-4 mr-5"></div>
    <form id="signupForm" class="login_form col" action="/user/change-password" method="POST">
      <h6 class="mb-4">Change password: </h6>
      <div class="row form-group">
          <input id="pass" class="form-control" type="password" name="currentPassword" placeholder="Current Password" data-toggle="tooltip" data-placement="top" title="Current Password">
      </div>
      <div class="row form-group">
          <input id="pass" class="form-control" type="password" name="newPassword" placeholder="New Password" data-toggle="tooltip" data-placement="top" title="New Password">
      </div>
      <div class="row form-group">
          <input id="repass" class="form-control" type="password" name="reNewPassword" placeholder="Comfirm New Password" data-toggle="tooltip" data-placement="top" title="Comfirm New Password">
      </div>
      <div class="row form-group">
          <button id="submitPassBtn" class="btn subs_btn form-control">Reset Password</button>
      </div>
    </form>
  </div>

</div>
            
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
  $(document).ready(function() {
    let imagesPreview = function(input, placeToInsertImagePreview) {
      if (input.files) {
        let filesAmount = input.files.length;

        for (i = 0; i < filesAmount; i++) {
          let reader = new FileReader();
          reader.onload = function(event) {
            $($.parseHTML("<img>"))
              .attr("src", event.target.result)
              .appendTo(placeToInsertImagePreview);
          };
          reader.readAsDataURL(input.files[i]);
        }
      }
    };
    $("#selectedFile").on("change", function() {
      imagesPreview(this, "#avatar");
    });
  });
</script>

    <!--
    <input type="text" id="fakeInput" readonly="readonly"/>
    <span onclick="document.getElementById('selectedFile').click();" id="buttonImage" >Browse</span>
    -->